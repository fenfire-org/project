<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"

"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fi">

<head>
  <title>Johdatus Stormiin - Issues - TIE363</title>
</head>
<body>
<p>
fi <a href="index.en.html">en</a>
</p>

<p>
Kirjoittanut Matti Katila.
</p>

<h1>Johdatus tietomyrskyyn - Storm: Storage Module</h1>

<p>
Vastauksena vepin sisÃ¤llÃ¶n nopeaan murentumiseen, versiointi-ongelmaan
ja yleisesti tiedon parempaan hallintaan on Tuomas Lukka alun perin
ideoinut Stormin, eli tietovaraston. Lyhyt ja ytimekÃ¤s kuvaus eduista
ja nykyisen vepin ongelmista on kuvattu Benjan kirjoittamassa <a
href="http://himalia.it.jyu.fi/darcs/storm/doc/why.rst">
"vastauksessa"</a> tai julkaistussa, vaikkakin lyhyessÃ¤ <a
href="http://portal.acm.org/citation.cfm?id=900084"> artikkelissa</a>.
</p>

<p>
MikÃ¤ on Storm ja miten se kÃ¤yttÃ¤ identiteettejÃ¤? LÃ¤htÃ¶ajatus on
kÃ¤yttÃ¤Ã¤ vastaavaa menetelmÃ¤Ã¤ kuin nykyisin tunnetut
vertaisverkko-ohjelmatkin kÃ¤yttÃ¤vÃ¤t. Luodaan tiedostolle tiiviste(hash)
(Stormin tapauksessa tiedostoa ei pilkota osiin, koska sitÃ¤ ei ole
suunniteltu ensisijaisesti isojen tiedostojen jakamiseen). Tiivisteen
lisÃ¤ksi kuvataan tiedoston sisÃ¤ltÃ¶Ã¤ (content type).

EsimerkkinÃ¤ tiedostoa, eli Storm <em>block</em>:ia kuvaava identiteetti:
vnd-storm-hash:image/png,pbqrtu42fqpm2zgceea7kzukwiaej5hi.6ikqbro4lk7yf6yrhlw6xutvcpc45u2qodebmzy
</p>

<p>
TÃ¤mÃ¤n lisÃ¤ksi tarvitaan tiedostolle luoja, esim. henkilÃ¶ tai
organisaatio, jolla on krytografinen avain ja madollisuus
sÃ¤hkÃ¶iseen allekirjoitukseen. TÃ¤tÃ¤ varten luodaan kÃ¤yttÃ¤jÃ¤lle
tunnustieto nk. <em> owner block </em>, jonka ei vÃ¤lttÃ¤mÃ¤ttÃ¤ tarvitse
olla julkinen, mutta sisÃ¤ltÃ¤Ã¤ haltijastaan tietoja joiden avulla
voidaan vakuuttua kyseisestÃ¤ henkilÃ¶stÃ¤ tai organisaatiosta.
</p>

<p>
Seuraavaksi on vuorossa Storm pointterit. Pointtereiden tarkoitus on
osoittaa pysyvÃ¤sti tietoon, ja siten niillÃ¤ voidaan korvata
vepin nykyinen malli - olisihan hankalaa jos helsinginsanomat.fi ei
voisi viitata kuin yhden pÃ¤ivÃ¤n lukemistoon. Pointteri on myÃ¶s Storm
block, mutta sisÃ¤llÃ¶ltÃ¤Ã¤n siinÃ¤ on viite tunnistetietoon, julkinen
avain, sekÃ¤ viite referenssi blockiin. Pointterit siis
osoittavat yhteen tietoon, joka ei kuitenkaan ole vielÃ¤ itse tiedostoblockin
tiiviste, vaan nk. referenssi, josta lisÃ¤Ã¤ seuraavassa. 
</p>

<p>
Referenssi on pieni RDF graafi, joka sekin on Storm blocki.  TÃ¤ssÃ¤
graafissa osoitetaan varsinaista tiedostoa tai oikeammin sitÃ¤ kuvaavaa
tiiviste ja sisÃ¤ltÃ¶ identiteettiÃ¤, sekÃ¤ tekijÃ¤n allekirjoitus
referenssin omistajuudesta.
</p>

<p>
Varsinainen tyÃ¶ - versiointi - suoritetaan aiemmin mainituilla
komponenteilla. Uusi versio tiedostosta, eli uusi block identiteetti,
asetetaan jÃ¤rjestelmÃ¤Ã¤n luomalla uusi referenssi, jonka sanotaan
kumoavan edellinen tai edelliset (merkityt) referenssit.
</p>

<pre>
          
Storm-ptr     --->  owner block    
 (pub key)    --->  Referenssi - versio 1  --->  A - tiedosto block

                        *
                       /|\
                        |
                     obsoletes
                        |

                    Referenssi - versio 2  --->  B - tiedosto block

                        *
                       /|\
                        |
                     obsoletes
                        |

                    Referenssi - versio 3  --->  A - tiedosto block

                        *
                       /|\
                        |
                     obsoletes
                        |
                    Referenssi - versio 4  --->  C - tiedosto block

</pre>


<p>
<a href="http://validator.w3.org//check?uri=http%3A%2F%2Fhimalia.it.jyu.fi%2Fdarcs%2Fproject%2Fteaching%2FTIE363%2Fwww%2Flectures%2Fissues%2Fintro-to-storm%2F;ss=1;outline=1;verbose=1">
<img
          src="http://www.w3.org/Icons/valid-xhtml10"
          alt="Valid XHTML 1.0!" height="31" width="88" /></a>
</p>

</body>
</html>
